# üßπ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –æ—á–∏—â–µ–Ω–Ω—è Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –≤—ñ–¥ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–∞–ø–∫–∞ `release/` (911 MB, 4,811 —Ñ–∞–π–ª—ñ–≤) –±—É–ª–∞ –≤–∏–ø–∞–¥–∫–æ–≤–æ –¥–æ–¥–∞–Ω–∞ –¥–æ Git —ñ—Å—Ç–æ—Ä—ñ—ó.  
–•–æ—á–∞ –≤–æ–Ω–∞ –∑–∞—Ä–∞–∑ –≤ `.gitignore`, —Å—Ç–∞—Ä—ñ commits –≤—Å–µ —â–µ –º—ñ—Å—Ç—è—Ç—å —Ü—ñ —Ñ–∞–π–ª–∏.

## –°—Ç–∞—Ç—É—Å
- ‚úÖ `.gitignore` –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ù–æ–≤—ñ commits –Ω–µ –±—É–¥—É—Ç—å –≤–∫–ª—é—á–∞—Ç–∏ `release/`
- ‚ö†Ô∏è –°—Ç–∞—Ä—ñ commits –≤—Å–µ —â–µ –º—ñ—Å—Ç—è—Ç—å –≤–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏

## –û–ø—Ü—ñ—è 1: –ó–∞–ª–∏—à–∏—Ç–∏ —è–∫ —î (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –Ω–µ–≤–µ–ª–∏–∫–∏—Ö –∫–æ–º–∞–Ω–¥)
–Ø–∫—â–æ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –æ–¥–∏–Ω –∞–±–æ –≤ –Ω–µ–≤–µ–ª–∏–∫—ñ–π –∫–æ–º–∞–Ω–¥—ñ, –º–æ–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É.  
–ù–æ–≤—ñ commits –±—É–¥—É—Ç—å –ª–µ–≥–∫–∏–º–∏.

## –û–ø—Ü—ñ—è 2: –û—á–∏—Å—Ç–∏—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é (–¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –∫–æ–º–∞–Ω–¥ / –ø—É–±–ª—ñ—á–Ω–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤)

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è BFG Repo-Cleaner (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ)

```bash
# 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ BFG
# https://rtyley.github.io/bfg-repo-cleaner/

# 2. –°—Ç–≤–æ—Ä–∏—Ç–∏ backup
git clone --mirror https://github.com/sashashostak/KontrNahryuk.git backup-repo.git

# 3. –í–∏–¥–∞–ª–∏—Ç–∏ –ø–∞–ø–∫—É release/ –∑ —ñ—Å—Ç–æ—Ä—ñ—ó
java -jar bfg.jar --delete-folders release --no-blob-protection KontrNahryuk.git

# 4. –û—á–∏—Å—Ç–∏—Ç–∏ Git
cd KontrNahryuk.git
git reflog expire --expire=now --all
git gc --prune=now --aggressive

# 5. Force push (–£–í–ê–ì–ê: –ø–µ—Ä–µ–ø–∏—à–µ —ñ—Å—Ç–æ—Ä—ñ—é!)
git push --force
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è git filter-repo (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

```bash
# 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ git-filter-repo
pip install git-filter-repo

# 2. –í–∏–¥–∞–ª–∏—Ç–∏ –ø–∞–ø–∫—É release/
git filter-repo --path release/ --invert-paths

# 3. Force push
git push --force
```

## ‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û –ø—Ä–∏ force push:
1. –ü–æ–ø–µ—Ä–µ–¥–∏—Ç–∏ –≤—Å—ñ—Ö —á–ª–µ–Ω—ñ–≤ –∫–æ–º–∞–Ω–¥–∏
2. –í—Å—ñ –º–∞—é—Ç—å –∑—Ä–æ–±–∏—Ç–∏ `git pull --rebase` –ø—ñ—Å–ª—è –≤–∞—à–æ–≥–æ push
3. –ö—Ä–∞—â–µ —Ä–æ–±–∏—Ç–∏ –≤ –Ω–µ—Ä–æ–±–æ—á–∏–π —á–∞—Å

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
–Ø–∫—â–æ –æ—á–∏—â–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó —Å–∫–ª–∞–¥–Ω–µ:
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥ (–±–µ–∑ release/)
3. –ó—Ä–æ–±–∏—Ç–∏ initial commit
4. –°—Ç–∞—Ä–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∞—Ä—Ö—ñ–≤—É–≤–∞—Ç–∏

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–º—ñ—Ä—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
# –†–æ–∑–º—ñ—Ä .git –ø–∞–ø–∫–∏
du -sh .git

# –ù–∞–π–±—ñ–ª—å—à—ñ —Ñ–∞–π–ª–∏ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó
git rev-list --objects --all | \
  git cat-file --batch-check='%(objecttype) %(objectname) %(objectsize) %(rest)' | \
  awk '/^blob/ {print substr($0,6)}' | \
  sort --numeric-sort --key=2 | \
  cut --complement --characters=13-40 | \
  numfmt --field=2 --to=iec-i --suffix=B --padding=7 --round=nearest | \
  tail -20
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è
–î–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—é **–û–ø—Ü—ñ—é 1** - –∑–∞–ª–∏—à–∏—Ç–∏ —è–∫ —î.  
–ù–æ–≤—ñ commits –±—É–¥—É—Ç—å –ª–µ–≥–∫–∏–º–∏, –∞ —ñ—Å—Ç–æ—Ä—ñ—é –º–æ–∂–Ω–∞ –æ—á–∏—Å—Ç–∏—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ.
